<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="setFairVccyMng">

	<update id="updateEmpmnAncmtMng" parameterType="FairMngBean">
		UPDATE
			CPES_VACANCY
		<set>
			JC_AGREE_STS_CD = #{jcAgreeStsCd},
			JC_MOD_USER_SEQ = #{modUserSeq},
			JC_MOD_DT = NOW()
		</set>
		WHERE
			VACANCY_SEQ = #{vacancySeq}
	</update>

	<insert id="insertEmpmnAncmtJoin" parameterType="FairMngBean" >
		INSERT INTO CPES_FAIR_PATCPTN_COMPNY_VACANCY (
			COMPNY_SEQ,
			VACANCY_SEQ,
			FAIR_SEQ,
			REG_USER_SEQ,
			REG_DT
		) VALUES (
			#{compnySeq},
			#{vacancySeq},
			#{fairSeq},
			#{regUserSeq},
			NOW()
		)
	</insert>

	<update id="updateEmpmnAncmtJoin" parameterType="FairMngBean">
		UPDATE
			CPES_VACANCY
		<set>
			JC_AGREE_STS_CD = #{jcAgreeStsCd},
			JC_USER_SEQ = #{regUserSeq},
			JC_AGREE_DT = NOW()
		</set>
		WHERE
			VACANCY_SEQ = #{vacancySeq}
	</update>
</mapper>
