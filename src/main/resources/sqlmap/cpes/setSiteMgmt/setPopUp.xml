<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="setPopUp">
	<insert id="insertPopUp" parameterType="PopUpBean">
		INSERT INTO CPES_POPUP
		(
			  POPUP_SEQ
			, WIDTH
			, HEIGHT
			, TOP_POSITION
			, LEFT_POSITION
			, BGN_DT
			, END_DT
			, CONTENT
			, USE_YN
			, REG_USER_SEQ
			, REG_DT
			, MOD_USER_SEQ
			, MOD_DT
			, TITLE
			, BGN_HOUR
			, END_HOUR
			, BGN_MINUTE
			, END_MINUTE
			, BGN_AMPM
			, END_AMPM
			, RESV_YN
			, TODAY_OPEN_YN
			) VALUES (
			 #{popupSeq}
			,#{width}
			,#{height}
			,#{topPosition}
			,#{leftPosition}
			,#{bgnDt}
			,#{endDt}
			,#{content}
			,#{useYn}
			,#{user.userSeq}
			,NOW()
			,#{user.userSeq}
			,NOW()
			,#{title}
			,#{bgnHour}
			,#{endHour}
			,#{bgnMinute}
			,#{endMinute}
			,#{bgnAmpm}
			,#{endAmpm}
			,#{resvYn}
			,#{todayOpenYn}
			)




	</insert>
	
	
	<update id="updatePopUp" parameterType="PopUpBean">
		UPDATE CPES_POPUP SET 
			BGN_DT        = #{bgnDt}, 
			END_DT        = #{endDt}, 
			<if test="@org.apache.commons.lang.StringUtils@isNotBlank(content)">CONTENT       = #{content},         </if>
			<if test="@org.apache.commons.lang.StringUtils@isNotBlank(useYn)">USE_YN        = #{useYn},             </if>
			<if test="@org.apache.commons.lang.StringUtils@isNotBlank(title)">TITLE         = #{title},             </if>
			BGN_HOUR      = #{bgnHour},
			END_HOUR      = #{endHour}, 
			BGN_MINUTE    = #{bgnMinute},
			END_MINUTE    = #{endMinute}, 
			BGN_AMPM      = #{bgnAmpm}, 
			END_AMPM      = #{endAmpm},
			<if test="@org.apache.commons.lang.StringUtils@isNotBlank(resvYn)">RESV_YN       = #{resvYn},           </if>
			<if test="@org.apache.commons.lang.StringUtils@isNotBlank(todayOpenYn)">TODAY_OPEN_YN = #{todayOpenYn}, </if>

		MOD_USER_SEQ = #{user.userSeq},
		MOD_DT = NOW()
		WHERE POPUP_SEQ = #{popupSeq}
	</update>
	
	<delete id="deletePopUp" parameterType="PopUpBean">
		DELETE FROM CPES_POPUP WHERE POPUP_SEQ = #{popupSeq}
	</delete>
	
</mapper>
